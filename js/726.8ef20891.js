"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[726],{2545:function(t,s,i){i.d(s,{Z:function(){return d}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"navbar ml-auto d-flex justify-content-between"},[s("div",{staticClass:"navbar_wrap"},[s("div",{staticClass:"navbar_logo"},[s("router-link",{attrs:{to:"/admin/tweets"}},[s("img",{attrs:{src:i(6602)}})])],1),s("div",{staticClass:"navbar_item"},[s("router-link",{staticClass:"nav_link",attrs:{to:"/admin/tweets"}},[s("div",{staticClass:"nav_link-icon home"}),s("p",[t._v("推文清單")])])],1),s("div",{staticClass:"navbar_item"},[s("router-link",{staticClass:"nav_link",attrs:{to:"/admin/users"}},[s("div",{staticClass:"nav_link-icon user"}),s("p",[t._v("使用者列表")])])],1),s("div",{staticClass:"navbar_item mobile",on:{click:t.logout}},[t._m(0)])]),s("div",{staticClass:"navbar_item medium",on:{click:t.logout}},[t._m(1)])])},n=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav_link"},[s("div",{staticClass:"nav_link-icon logout"}),s("p",[t._v("登出")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav_link"},[s("div",{staticClass:"nav_link-icon logout"}),s("p",[t._v("登出")])])}],e=(i(7658),i(629)),r={computed:{...(0,e.rn)(["currentUser","isAuthenticated"])},methods:{logout(){this.$store.commit("rmAuthentication"),this.$router.push("/admin/signin")}}},o=r,l=i(1001),c=(0,l.Z)(o,a,n,!1,null,"8d1ea9d6",null),d=c.exports},4726:function(t,s,i){i.r(s),i.d(s,{default:function(){return _}});var a=function(){var t=this,s=t._self._c;return s("main",{staticClass:"admin-view"},[s("NavbarAdmin"),t.isProcessing?s("LoadingSpinner"):[s("div",{staticClass:"admin_box"},[s("div",{staticClass:"admin_box-title"},[s("h5",{staticClass:"size-18"},[t._v("使用者列表")])]),s("div",{staticClass:"admin_box_wrap card-wrap"},t._l(t.users,(function(i){return s("div",{key:i.id,staticClass:"admin_box-item card text-center"},[s("div",{staticStyle:{position:"relative"}},[s("img",{staticClass:"admin_box-item-banner",attrs:{src:t._f("emptyBanner")(i.coverPhoto)}}),s("div",{staticClass:"admin_box-item-avatar"},[s("img",{attrs:{src:t._f("emptyImage")(i.avatar)}})])]),s("div",{staticClass:"admin_box-item-body mt-3"},[s("h5",[t._v(t._s(i.name))]),s("p",{staticClass:"admin-account"},[t._v(t._s(t._f("account")(i.account)))]),s("div",{staticClass:"d-flex admin_box-item-actions justify-content-center"},[s("div",{staticClass:"d-flex align-items-center mx-3"},[s("div",{staticClass:"icon reply"}),s("span",{staticClass:"ml-2"},[t._v(t._s(i.TweetsCount))])]),s("div",{staticClass:"d-flex align-items-center mx-3"},[s("div",{staticClass:"icon liked"}),s("span",{staticClass:"ml-2"},[t._v(t._s(i.LikedCount))])])]),s("div",{staticClass:"d-flex admin_box-item-footer justify-content-center"},[s("div",{staticClass:"following size-14 mx-2"},[s("span",[t._v(t._s(i.FollowingsCount)+"個")]),t._v("跟隨中 ")]),s("div",{staticClass:"followers size-14 mx-2"},[s("span",[t._v(t._s(i.FollowersCount)+"個")]),t._v("跟隨者 ")])])])])})),0)])]],2)},n=[],e=i(2545),r=i(4711),o=i(4409),l=i(3507),c=i(6163),d={data(){return{users:[],isProcessing:!1}},mixins:[l.Lf,l.$2],components:{NavbarAdmin:e.Z,LoadingSpinner:o.Z},methods:{async fetchUsers(){try{this.isProcessing=!0;const{data:t}=await r.Z.getAllUsers();if("error"===t.status)throw new Error(t.message);this.users=t,this.isProcessing=!1}catch(t){this.isProcessing=!1,console.error(t),c.F.fire({icon:"error",title:"無法取得使用者資料，請稍後再試",background:"#FC5A5A",iconColor:"#fff",customClass:{container:"sweetalert2-error-pop"}})}}},created(){this.fetchUsers()}},v=d,u=i(1001),m=(0,u.Z)(v,a,n,!1,null,"61b0f4ff",null),_=m.exports},4711:function(t,s,i){var a=i(6163);s["Z"]={signIn({account:t,password:s}){return a.l.post("/api/admin/signin",{account:t,password:s})},getAllTweets(){return a.l.get("/api/admin/tweets")},getAllUsers(){return a.l.get("/api/admin/users")},deleteTweet(t){return a.l["delete"](`/api/admin/tweets/${t}`)}}}}]);
//# sourceMappingURL=726.8ef20891.js.map